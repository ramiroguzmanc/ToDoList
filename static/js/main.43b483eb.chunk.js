(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{33:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),a=n(13),r=n.n(a),s=(n(48),n(41)),i=n.n(s),l=n(27),u=n(11);var d=n(2),j=o.a.createContext();function b(e){var t=function(e,t){var n=Object(c.useState)(!1),o=Object(u.a)(n,2),a=o[0],r=o[1],s=Object(c.useState)(!0),i=Object(u.a)(s,2),l=i[0],d=i[1],j=Object(c.useState)(t),b=Object(u.a)(j,2),O=b[0],h=b[1];return Object(c.useEffect)((function(){setTimeout((function(){try{var n,c=localStorage.getItem(e);c?n=JSON.parse(c):(localStorage.setItem(e,JSON.stringify(t)),n=t),h(n),d(!1)}catch(a){r(a)}}),1e3)})),{item:O,saveItem:function(t){try{var n=JSON.stringify(t);localStorage.setItem(e,n),h(t)}catch(a){r(a)}},loading:l,error:a}}("TODOS_V1",[]),n=t.item,o=t.saveItem,a=t.loading,r=t.error,s=Object(c.useState)(""),i=Object(u.a)(s,2),b=i[0],O=i[1],h=Object(c.useState)(!1),x=Object(u.a)(h,2),m=x[0],f=x[1],p=n.filter((function(e){return!!e.completed})).length,v=n.length,C=[];C=b.length>=1?n.filter((function(e){var t=e.text.toLowerCase(),n=b.toLowerCase();return t.includes(n)})):n;return Object(d.jsx)(j.Provider,{value:{totalToDos:v,completedToDos:p,searchValue:b,setSearchValue:O,error:r,loading:a,searchedToDos:C,addToDo:function(e){var t=Object(l.a)(n);t.push({id:v+1,completed:!1,text:e}),o(t)},onToDoStateChange:function(e){var t=n.findIndex((function(t){return t.id===e})),c=Object(l.a)(n);c[t].completed=!c[t].completed,o(c)},deleteToDo:function(e){var t=n.findIndex((function(t){return t.id===e})),c=Object(l.a)(n);c.splice(t,1),o(c)},openModal:m,setOpenModal:f},children:e.children})}var O=n(34),h=n.n(O),x=(n(50),function(){var e=Object(c.useContext)(j).setOpenModal;return Object(d.jsx)("button",{className:"button",onClick:function(){return e(!0)},children:Object(d.jsx)(h.a,{})})}),m=(n(56),function(){var e=Object(c.useContext)(j),t=e.completedToDos,n=e.totalToDos;return Object(d.jsxs)("span",{className:"TodoCounter",children:["Has completado ",Object(d.jsx)("b",{children:t})," de ",Object(d.jsx)("b",{children:n})," ToDos"]})}),f=(n(57),function(){var e=Object(c.useContext)(j),t=e.searchValue,n=e.setSearchValue;return Object(d.jsx)("div",{className:"searchInputContainer",children:Object(d.jsx)("input",{type:"text",placeholder:"Buscar ToDo...",className:"searchInput",value:t,onChange:function(e){n(e.target.value)}})})}),p=(n(58),function(e){return Object(d.jsx)("section",{className:"container",children:Object(d.jsx)("ul",{className:"",children:e.children})})}),v=n(78),C=n(79),g=n(40),T=n.n(g),D=(n(59),function(e){return Object(d.jsxs)("li",{className:"item",children:[Object(d.jsxs)("div",{className:"textContainer",children:[Object(d.jsx)(v.a,{checked:e.completed,inputProps:{"aria-label":"primary checkbox"},color:"primary",onClick:function(){return t=e.id,void e.onToDoStateChange(t);var t}}),Object(d.jsx)("p",{className:e.completed?"textTaskCompleted":"",children:e.text})]}),Object(d.jsx)(C.a,{"aria-label":"delete",onClick:function(){return e.deleteToDo(e.id)},children:Object(d.jsx)(T.a,{})})]})}),S=(n(33),function(e){var t=e.children;return r.a.createPortal(Object(d.jsx)("div",{className:"ModalBackground",children:t}),document.getElementById("modal"))}),N=function(e){var t=e.setOpenModal,n=Object(c.useContext)(j).addToDo,o=Object(c.useState)(""),a=Object(u.a)(o,2),r=a[0],s=a[1],i=function(e){e.preventDefault(),n(r),t(!1)};return Object(d.jsxs)("form",{onSubmit:i,children:[Object(d.jsx)("textarea",{className:"TodoTextarea",placeholder:"Cortar la cebolla para el almuerzo...",value:r,onChange:function(e){s(e.target.value)}}),Object(d.jsxs)("div",{className:"ButtonsContainer",children:[Object(d.jsx)("button",{onClick:function(){t(!1)},type:"button",className:"Button CancelButton",children:"Cancelar"}),Object(d.jsx)("button",{onClick:i,type:"submit",className:"Button SubmitButton",children:"A\xf1adir To Do"})]})]})},k=function(){var e=Object(c.useContext)(j),t=e.error,n=e.loading,a=e.searchedToDos,r=e.onToDoStateChange,s=e.deleteToDo,l=e.openModal,u=e.setOpenModal;return Object(d.jsxs)(o.a.Fragment,{children:[Object(d.jsx)("h1",{className:"title",children:"\ud83d\udcccYour To Do List \ud83e\uddfe"}),Object(d.jsxs)(p,{children:[Object(d.jsx)(m,{}),Object(d.jsx)(f,{}),t&&Object(d.jsx)("p",{children:"Ha ocurrido un error..."}),n&&Object(d.jsx)("p",{children:"Cargando..."}),!n&&!a.length&&Object(d.jsx)("p",{children:"Crea tu primer ToDo"}),a.map((function(e){return Object(d.jsx)(D,{text:e.text,id:e.id,completed:e.completed,onToDoStateChange:r,deleteToDo:s},e.id)})),Object(d.jsx)(x,{})]}),l&&Object(d.jsxs)(S,{children:[Object(d.jsx)(i.a,{className:"ModalCloseButton",onClick:function(){return u(!1)}}),Object(d.jsxs)("div",{className:"FormContainer",children:[Object(d.jsx)("h1",{children:"Agregar nuevo To Do"}),Object(d.jsx)(N,{setOpenModal:u})]})]})]})};n(60);var y=function(){return Object(d.jsx)(b,{children:Object(d.jsx)(k,{})})};r.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.43b483eb.chunk.js.map